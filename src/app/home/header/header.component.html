<!--顶部-->
<div class="header">
  <div class="row">
    <div class="header-logo">
      <span>贵州高投服务管理有限公司</span><span>交通大数据</span>
    </div>
    <div class="header-title text-center">
      <span>{{headerTitle}}</span>
      <div *ngIf="flagState" class="pull-right">
        <input id="search" type="text" placeholder="请输入服务区名称" [(ngModel)]="serviceName" (change)="serviceSearchChange($event)">
        <label for="search">
          <i><i class="fa fa-search" aria-hidden="true"></i></i>
        </label>
      </div>
    </div>
    <div class="header-admin">
      <!--头像-->
      <img class="header-admin-img img-circle" src="assets/images/timg.jpg" alt="" [routerLink]="['/home/personal']"   >
      <!--时钟-->
      <div class="header-admin-time text-center">
        <span>北京时间 <span style="margin-left: 0.2vw">{{dataTime | date:'yyyy-MM-dd HH:mm:ss'}}</span></span>
      </div>
      <!--客流-->
      <div *ngIf="flagState" class="header-admin-flow text-center" (click)="personClick()">
        <span>{{this.flagName}}今日客流量：</span>
        <div class="text-center">
          <span style="font-size: 0.875rem">{{persons?.total.length === 0?'当前暂无客流数据': ''}}</span>
          <span *ngFor="let item of persons?.total">{{item}}</span>
        </div>
        <span>人/次</span>
      </div>
    </div>
  </div>
</div>
<!--服务区级人流分布弹窗-->
<!--<div class="bg-box" *ngIf="serviceZonePersonAlert" >
  <div class="alert-window" style="height:50vh; margin-top: -25vh;width: 50vw;margin-left: -25vw">
    <div class="alert-window-header">
      <div class="row">
        <div class="col-lg-12 col-md-12">
          <span>{{flagName}}客流分布</span>
          <div class="pull-right" (click)="closePersonAlert()">
            <i class="fa fa-window-close " aria-hidden="true"></i>
          </div>
        </div>
      </div>
    </div>
    <div class="alert-window-content">
      &lt;!&ndash;总人数&ndash;&gt;
      <div class="row">
        <div class="col-ld-12 col-md-12">
          <div class="vehicle-amount">
            <p class="text-center">
              <b>总人数：</b>
              <b style="font-size:1rem">{{persons.length === 0? '当前暂无客流数据': ''}}</b>
              <span *ngFor="let item of persons">{{item}}</span>
              <small *ngIf="!(persons.length === 0)">人/次</small>
            </p>
          </div>
        </div>
      </div>
     &lt;!&ndash;人数分布&ndash;&gt;
      <div class="row">
        <div class="col-ld-12 col-md-12 text-center">
          <p>{{personsTop?.source+ '—>'+personsTop?.destination}}</p>
          <div class="vehicle-distribute">
            <div class="person-list text-center" *ngFor="let i of personsTop?.nameValuePairs">
              <p>
                <i class="fa fa-paw" aria-hidden="true"></i>
              </p>
              <p>{{i.value}}人次</p>
              <p><b>{{i.name}}</b></p>
            </div>
          </div>
          <p>{{personsBottom?.source+ '—>'+personsBottom?.destination}}</p>
          <div class="vehicle-distribute">
            <div class="person-list text-center" *ngFor="let i of personsBottom?.nameValuePairs">
              <p>
                <i class="fa fa-paw" aria-hidden="true"></i>
              </p>
              <p>{{i.value}}人次</p>
              <p><b>{{i.name}}</b></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>-->
<!--省市级人流分布弹窗-->
<div class="bg-box" *ngIf="cityPersonAlert" >
  <div class="alert-window" style="height:80vh; margin-top: -40vh;">
    <div class="alert-window-header">
      <div class="row">
        <div class="col-lg-12 col-md-12">
          <span>{{flagName}}服务区客流分布</span>
          <div class="pull-right" (click)="closePersonAlert()">
            <i class="fa fa-window-close " aria-hidden="true"></i>
          </div>
        </div>
      </div>
    </div>
    <div class="alert-window-content">
      <!--总人数-->
      <div class="row">
        <div class="col-ld-12 col-md-12">
          <div class="vehicle-amount citys">
            <p>
              <b>总人数：</b>
              <b style="font-size:1rem">{{persons?.total.length === 0? '当前暂无客流数据': ''}}</b>
              <span *ngFor="let item of persons?.total">{{item}}</span>
              <small *ngIf="!(persons?.total.length === 0)">人/次</small>
            </p>
          </div>
        </div>
      </div>
      <!--人数分布-->
      <div class="row">
        <div class="col-ld-6 col-md-6 text-center">
          <app-echart-nationa-person *ngIf="!(persons?.total.length === 0)" [option]="persons?.province" [height]="'68vh'" [width]="'100%'"></app-echart-nationa-person>
        </div>
        <div class="col-ld-6 col-md-6 text-center">
          <app-echart-province-person *ngIf="!(persons?.total.length === 0)" [option]="persons?.city" [height]="'68vh'" [width]="'100%'"></app-echart-province-person>
        </div>
      </div>
    </div>
  </div>
</div>

